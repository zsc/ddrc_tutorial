<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <base href="./">
    <title>ç¬¬6ç« ï¼šQoSæœºåˆ¶ä¸ä»²è£ç­–ç•¥</title>
    <link rel="stylesheet" href="assets/style.css">
    <link rel="stylesheet" href="assets/highlight.css">
    <script src="assets/script.js" defer></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['$', '$']],
                displayMath: [['$$', '$$']],
                processEscapes: false,
                packages: {'[+]': ['noerrors', 'ams']}
            },
            options: {
                ignoreHtmlClass: 'tex2jax_ignore',
                processHtmlClass: 'tex2jax_process'
            },
            loader: {
                load: ['[tex]/noerrors', '[tex]/ams']
            }
        };
    </script>
</head>
<body>
    <div class="container">
        <nav id="sidebar" class="sidebar">
            <div class="sidebar-header">
                <h3>ç›®å½•</h3>
                <button id="sidebar-toggle" class="sidebar-toggle">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </div>
            <div class="sidebar-search">
                <input type="text" id="sidebar-search-input" placeholder="æœç´¢..." autocomplete="off">
            </div>
            <div id="tree-container">
                <nav class="tree-nav" role="tree">
                    <div class="tree-item " >
                        <a href="index.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">DDRæ§åˆ¶å™¨è®¾è®¡å®Œå…¨æŒ‡å—</span>
                        </a>
                    </div>
                
                    <div class="tree-item " >
                        <a href="chapter1.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">ç¬¬1ç« ï¼šDDRæŠ€æœ¯æ¼”è¿›ä¸åŸºç¡€åè®®</span>
                        </a>
                    </div>
                
                    <div class="tree-item " >
                        <a href="chapter2.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">ç¬¬2ç« ï¼šæ§åˆ¶å™¨æ¶æ„çº§å†³ç­–</span>
                        </a>
                    </div>
                
                    <div class="tree-item " >
                        <a href="chapter3.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">ç¬¬3ç« ï¼šPHYå±‚è®¾è®¡ä¸ç”µæ°”ç‰¹æ€§</span>
                        </a>
                    </div>
                
                    <div class="tree-item " >
                        <a href="chapter4.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">ç¬¬4ç« ï¼šè®­ç»ƒåºåˆ—ä¸æ ¡å‡†æœºåˆ¶</span>
                        </a>
                    </div>
                
                    <div class="tree-item " >
                        <a href="chapter5.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">ç¬¬5ç« ï¼šæ—¶åºå‚æ•°ä¸æ§åˆ¶ç­–ç•¥</span>
                        </a>
                    </div>
                
                    <div class="tree-item active" >
                        <a href="chapter6.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">ç¬¬6ç« ï¼šQoSæœºåˆ¶ä¸ä»²è£ç­–ç•¥</span>
                        </a>
                    </div>
                
                    <div class="tree-item " >
                        <a href="chapter7.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">ç¬¬7ç« ï¼šåŠŸè€—ä¼˜åŒ–æŠ€æœ¯</span>
                        </a>
                    </div>
                
                    <div class="tree-item " >
                        <a href="chapter8.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">ç¬¬8ç« ï¼šå¯è§‚æµ‹æ€§ä¸æ€§èƒ½é‡åŒ–</span>
                        </a>
                    </div>
                
                    <div class="tree-item " >
                        <a href="chapter9.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">ç¬¬9ç« ï¼šéªŒè¯ç­–ç•¥ä¸å¥å£®æ€§è®¾è®¡</span>
                        </a>
                    </div>
                
                    <div class="tree-item " >
                        <a href="chapter10.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">ç¬¬10ç« ï¼šå…¸å‹è°ƒå‚æµç¨‹</span>
                        </a>
                    </div>
                
                    <div class="tree-item " >
                        <a href="chapter11.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">ç¬¬11ç« ï¼šå¸¸è§é—®é¢˜ä¸å¯¹ç­–</span>
                        </a>
                    </div>
                
                    <div class="tree-item " >
                        <a href="chapter12.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">ç¬¬12ç« ï¼šå¿«é€Ÿå‚æ•°æ¨¡æ¿ä¸æœ€ä½³å®è·µ</span>
                        </a>
                    </div>
                
                    <div class="tree-item " >
                        <a href="CLAUDE.html" class="tree-link">
                            <span class="tree-icon">ğŸ“„</span>
                            <span class="tree-title">Untitled</span>
                        </a>
                    </div>
                </nav>
            </div>
        </nav>
        
        <main class="content">
            <article>
                <h1 id="6qos">ç¬¬6ç« ï¼šQoSæœºåˆ¶ä¸ä»²è£ç­–ç•¥</h1>
<h2 id="_1">æœ¬ç« æ¦‚è¿°</h2>
<p>åœ¨ç°ä»£SoCç³»ç»Ÿä¸­ï¼ŒDDRæ§åˆ¶å™¨éœ€è¦åŒæ—¶æœåŠ¡å¤šä¸ªå…·æœ‰ä¸åŒæ€§èƒ½éœ€æ±‚çš„ä¸»è®¾å¤‡ï¼šCPUéœ€è¦ä½å»¶è¿Ÿè®¿é—®ä»¥ä¿è¯æ‰§è¡Œæ•ˆç‡ï¼ŒGPUéœ€è¦é«˜å¸¦å®½ååä»¥æ»¡è¶³æ¸²æŸ“éœ€æ±‚ï¼Œå®æ—¶è®¾å¤‡éœ€è¦ç¡®å®šæ€§çš„å“åº”æ—¶é—´ï¼Œè€ŒDMAä¼ è¾“åˆ™è¿½æ±‚æ•´ä½“æ•ˆç‡ã€‚å¦‚ä½•åœ¨æœ‰é™çš„å†…å­˜å¸¦å®½ä¸‹åˆç†åˆ†é…èµ„æºã€ä¿è¯å„ç±»è¯·æ±‚çš„æœåŠ¡è´¨é‡ï¼ˆQoSï¼‰ï¼Œæ˜¯DDRæ§åˆ¶å™¨è®¾è®¡çš„æ ¸å¿ƒæŒ‘æˆ˜ä¹‹ä¸€ã€‚</p>
<p>æœ¬ç« å°†æ·±å…¥æ¢è®¨DDRæ§åˆ¶å™¨çš„QoSæœºåˆ¶è®¾è®¡ï¼Œä»éœ€æ±‚å»ºæ¨¡åˆ°å…·ä½“çš„ä»²è£ç®—æ³•å®ç°ï¼Œæ¶µç›–ä¼˜å…ˆçº§è°ƒåº¦ã€å¸¦å®½ç®¡ç†ã€å»¶è¿Ÿæ§åˆ¶ç­‰å…³é”®æŠ€æœ¯ã€‚é€šè¿‡å­¦ä¹ æœ¬ç« å†…å®¹ï¼Œæ‚¨å°†æŒæ¡å¦‚ä½•è®¾è®¡ä¸€ä¸ªæ—¢èƒ½æ»¡è¶³æ€§èƒ½éœ€æ±‚ã€åˆèƒ½ä¿è¯å…¬å¹³æ€§çš„é«˜æ•ˆä»²è£ç³»ç»Ÿã€‚</p>
<h2 id="61-qos">6.1 QoSéœ€æ±‚åˆ†æä¸å»ºæ¨¡</h2>
<h3 id="611-qos">6.1.1 ç³»ç»Ÿçº§QoSéœ€æ±‚åˆ†ç±»</h3>
<p>ä¸åŒç±»å‹çš„ä¸»è®¾å¤‡å¯¹å†…å­˜è®¿é—®æœ‰ç€æˆªç„¶ä¸åŒçš„QoSéœ€æ±‚ï¼Œç†è§£è¿™äº›éœ€æ±‚ç‰¹å¾æ˜¯è®¾è®¡ä»²è£æœºåˆ¶çš„ç¬¬ä¸€æ­¥ã€‚</p>
<p><strong>å»¶è¿Ÿæ•æ„Ÿå‹ï¼ˆLatency-Sensitiveï¼‰</strong></p>
<ul>
<li>CPUå–æŒ‡å’ŒLoad/Storeæ“ä½œï¼šæ¯ä¸ªå‘¨æœŸçš„å»¶è¿Ÿéƒ½ç›´æ¥å½±å“IPC</li>
<li>ä¸­æ–­å¤„ç†å’Œå¼‚å¸¸å“åº”ï¼šéœ€è¦ç¡®å®šæ€§çš„æœ€åå»¶è¿Ÿä¿è¯</li>
<li>ç‰¹å¾ï¼šè¯·æ±‚é¢‘ç¹ä½†æ•°æ®é‡å°ï¼Œå¯¹å¹³å‡å»¶è¿Ÿå’Œå°¾å»¶è¿Ÿéƒ½å¾ˆæ•æ„Ÿ</li>
</ul>
<p><strong>å¸¦å®½æ•æ„Ÿå‹ï¼ˆBandwidth-Sensitiveï¼‰</strong></p>
<ul>
<li>GPUæ¸²æŸ“å’Œè®¡ç®—ï¼šéœ€è¦æŒç»­çš„é«˜å¸¦å®½ä¾›ç»™</li>
<li>è§†é¢‘ç¼–è§£ç ï¼šæœ‰æœ€å°å¸¦å®½è¦æ±‚ï¼Œä½äºé˜ˆå€¼ä¼šå¯¼è‡´ä¸¢å¸§</li>
<li>ç‰¹å¾ï¼šçªå‘ä¼ è¾“å¤§é‡æ•°æ®ï¼Œå¯¹ç¬æ—¶å¸¦å®½æ³¢åŠ¨æ•æ„Ÿ</li>
</ul>
<p><strong>å®æ—¶å‹ï¼ˆReal-Timeï¼‰</strong></p>
<ul>
<li>æ˜¾ç¤ºæ§åˆ¶å™¨ï¼šå¿…é¡»åœ¨å›ºå®šæ—¶é—´çª—å£å†…å®Œæˆå¸§ç¼“å†²è¯»å–</li>
<li>éŸ³é¢‘å¤„ç†ï¼šéœ€è¦å‘¨æœŸæ€§çš„ç¡®å®šæ€§è®¿é—®</li>
<li>ç‰¹å¾ï¼šæœ‰ä¸¥æ ¼çš„deadlineè¦æ±‚ï¼Œé”™è¿‡ä¼šå¯¼è‡´ç”¨æˆ·å¯æ„ŸçŸ¥çš„æ•…éšœ</li>
</ul>
<p><strong>å°½åŠ›è€Œä¸ºå‹ï¼ˆBest-Effortï¼‰</strong></p>
<ul>
<li>åå°DMAä¼ è¾“ï¼šå¯¹å»¶è¿Ÿå’Œå¸¦å®½éƒ½ä¸æ•æ„Ÿ</li>
<li>é¢„å–æ“ä½œï¼šå¯ä»¥è¢«é«˜ä¼˜å…ˆçº§è¯·æ±‚æŠ¢å </li>
<li>ç‰¹å¾ï¼šå¯ä»¥åˆ©ç”¨ç³»ç»Ÿç©ºé—²æ—¶æ®µï¼Œä¸å½±å“å…³é”®è·¯å¾„æ€§èƒ½</li>
</ul>
<h3 id="612-qos">6.1.2 QoSå‚æ•°é‡åŒ–æ¨¡å‹</h3>
<p>ä¸ºäº†ç²¾ç¡®æè¿°å’Œè¯„ä¼°QoSéœ€æ±‚ï¼Œéœ€è¦å»ºç«‹é‡åŒ–çš„å‚æ•°æ¨¡å‹ï¼š</p>
<p><strong>å»¶è¿Ÿæ¨¡å‹</strong></p>
<div class="codehilite"><pre><span></span><code>å»¶è¿Ÿåˆ†è§£ï¼š
Latency_total = Latency_queue + Latency_arbitration + Latency_command + Latency_data

å…¶ä¸­ï¼š

<span class="k">-</span> Latency_queue: è¯·æ±‚åœ¨é˜Ÿåˆ—ä¸­çš„ç­‰å¾…æ—¶é—´
<span class="k">-</span> Latency_arbitration: ä»²è£å†³ç­–æ—¶é—´
<span class="k">-</span> Latency_command: DDRå‘½ä»¤å‘é€å’Œæ‰§è¡Œæ—¶é—´
<span class="k">-</span> Latency_data: æ•°æ®ä¼ è¾“æ—¶é—´

å…³é”®æŒ‡æ ‡ï¼š

<span class="k">-</span> Average Latency: å¹³å‡å»¶è¿Ÿ
<span class="k">-</span> P99 Latency: 99åˆ†ä½å»¶è¿Ÿ
<span class="k">-</span> Maximum Latency: æœ€åæƒ…å†µå»¶è¿Ÿ
</code></pre></div>

<p><strong>å¸¦å®½æ¨¡å‹</strong></p>
<div class="codehilite"><pre><span></span><code><span class="n">å¸¦å®½åˆ©ç”¨ç‡</span><span class="err">ï¼š</span>
<span class="n">BW_efficiency</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">BW_actual</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">BW_theoretical</span>

<span class="n">å…¶ä¸­</span><span class="err">ï¼š</span>
<span class="n">BW_theoretical</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Frequency</span><span class="w"> </span><span class="err">Ã—</span><span class="w"> </span><span class="n">DataWidth</span><span class="w"> </span><span class="err">Ã—</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="p">(</span><span class="n">DDR</span><span class="p">)</span>
<span class="n">BW_actual</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DataTransferred</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="nc">Time</span>

<span class="n">å¸¦å®½åˆ†é…</span><span class="err">ï¼š</span>
<span class="n">BW_allocated</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Weight</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="w"> </span><span class="err">Ã—</span><span class="w"> </span><span class="n">BW_available</span>
<span class="n">BW_guaranteed</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Min_BW</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="w">  </span><span class="o">//</span><span class="w"> </span><span class="n">æœ€å°ä¿è¯å¸¦å®½</span>
<span class="n">BW_maximum</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Max_BW</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="w">      </span><span class="o">//</span><span class="w"> </span><span class="n">æœ€å¤§é™åˆ¶å¸¦å®½</span>
</code></pre></div>

<p><strong>æœåŠ¡è´¨é‡å¥‘çº¦ï¼ˆSLAï¼‰</strong></p>
<div class="codehilite"><pre><span></span><code>QoS Contract = {
    Priority_Level,          // ä¼˜å…ˆçº§ç­‰çº§
    Min_Bandwidth,          // æœ€å°å¸¦å®½ä¿è¯
    Max_Latency,           // æœ€å¤§å»¶è¿Ÿé™åˆ¶
    Burst_Size,            // çªå‘å¤§å°
    Deadline,              // å®Œæˆæ—¶é™
    Preemptible            // æ˜¯å¦å¯æŠ¢å 
}
</code></pre></div>

<h3 id="613-qos">6.1.3 QoSéœ€æ±‚å»ºæ¨¡å®ä¾‹</h3>
<p>è®©æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªå…¸å‹çš„ç§»åŠ¨SoCç³»ç»Ÿæ¥å…·ä½“åˆ†æQoSéœ€æ±‚ï¼š</p>
<div class="codehilite"><pre><span></span><code>ç³»ç»Ÿé…ç½®ï¼š

- DDR4-3200, 32-bitæ•°æ®å®½åº¦
- ç†è®ºå¸¦å®½ï¼š3200 Ã— 32 / 8 = 12.8 GB/s

ä¸»è®¾å¤‡QoSéœ€æ±‚ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Master    â”‚ Priority â”‚ Min BW    â”‚ Max Lat  â”‚  Type   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ CPU Cluster â”‚  High    â”‚ 2.0 GB/s  â”‚ 100 ns   â”‚ Latency â”‚
â”‚ GPU         â”‚  Medium  â”‚ 4.0 GB/s  â”‚ 500 ns   â”‚ Bandwidthâ”‚
â”‚ Display     â”‚  Criticalâ”‚ 1.5 GB/s  â”‚ 200 ns   â”‚ Real-timeâ”‚
â”‚ Video Codec â”‚  Medium  â”‚ 2.0 GB/s  â”‚ 1000 ns  â”‚ Bandwidthâ”‚
â”‚ ISP         â”‚  Medium  â”‚ 1.0 GB/s  â”‚ 500 ns   â”‚ Mixed   â”‚
â”‚ DMA         â”‚  Low     â”‚ 0.5 GB/s  â”‚ No limit â”‚ Best-effortâ”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

æ€»éœ€æ±‚ï¼š11.0 GB/s (åˆ©ç”¨ç‡ 86%)
</code></pre></div>

<h2 id="62">6.2 ä¼˜å…ˆçº§è°ƒåº¦æ¡†æ¶</h2>
<h3 id="621">6.2.1 é™æ€ä¼˜å…ˆçº§è°ƒåº¦</h3>
<p>é™æ€ä¼˜å…ˆçº§æ˜¯æœ€åŸºç¡€çš„QoSæœºåˆ¶ï¼Œæ¯ä¸ªä¸»è®¾å¤‡æˆ–è¯·æ±‚ç±»å‹è¢«èµ‹äºˆå›ºå®šçš„ä¼˜å…ˆçº§ã€‚</p>
<p><strong>åŸºæœ¬å®ç°</strong></p>
<div class="codehilite"><pre><span></span><code>ä¼˜å…ˆçº§é˜Ÿåˆ—ç»“æ„ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     Priority Queue Manager      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  High Priority Queue  [P=3]    â”‚ â† CPU, Interrupt
â”‚    â”œâ”€ Request 1                â”‚
â”‚    â”œâ”€ Request 2                â”‚
â”‚    â””â”€ ...                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Medium Priority Queue [P=2]   â”‚ â† GPU, Video
â”‚    â”œâ”€ Request 1                â”‚
â”‚    â””â”€ ...                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Normal Priority Queue [P=1]   â”‚ â† General Traffic
â”‚    â””â”€ ...                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Low Priority Queue   [P=0]    â”‚ â† DMA, Prefetch
â”‚    â””â”€ ...                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â†“
    Arbitration Logic
          â†“
     DDR Commands
</code></pre></div>

<p><strong>ä¸¥æ ¼ä¼˜å…ˆçº§çš„é—®é¢˜</strong></p>
<ul>
<li>é¥¥é¥¿é—®é¢˜ï¼šä½ä¼˜å…ˆçº§è¯·æ±‚å¯èƒ½æ°¸è¿œå¾—ä¸åˆ°æœåŠ¡</li>
<li>ä¼˜å…ˆçº§åè½¬ï¼šé«˜ä¼˜å…ˆçº§è¯·æ±‚è¢«ä½ä¼˜å…ˆçº§äº‹åŠ¡é˜»å¡</li>
<li>ç¼ºä¹çµæ´»æ€§ï¼šæ— æ³•é€‚åº”åŠ¨æ€å˜åŒ–çš„ç³»ç»Ÿè´Ÿè½½</li>
</ul>
<h3 id="622">6.2.2 åŠ¨æ€ä¼˜å…ˆçº§æå‡</h3>
<p>ä¸ºè§£å†³é™æ€ä¼˜å…ˆçº§çš„å±€é™æ€§ï¼Œå¼•å…¥åŠ¨æ€ä¼˜å…ˆçº§æå‡æœºåˆ¶ï¼š</p>
<p><strong>å¹´é¾„æå‡ï¼ˆAge-based Promotionï¼‰</strong></p>
<div class="codehilite"><pre><span></span><code>åŠ¨æ€ä¼˜å…ˆçº§è®¡ç®—ï¼š
Priority_effective = Priority_base + Age_factor Ã— Waiting_time

å…¶ä¸­ï¼š

<span class="k">-</span> Priority_base: åŸºç¡€ä¼˜å…ˆçº§
<span class="k">-</span> Age_factor: è€åŒ–å› å­ï¼ˆå¯é…ç½®ï¼‰
<span class="k">-</span> Waiting_time: åœ¨é˜Ÿåˆ—ä¸­çš„ç­‰å¾…æ—¶é—´

ç¤ºä¾‹é…ç½®ï¼š
if (Waiting_time &gt; Threshold_1) Priority += 1
if (Waiting_time &gt; Threshold_2) Priority += 2
if (Waiting_time &gt; Threshold_3) Priority = MAX_PRIORITY
</code></pre></div>

<p><strong>ç´§æ€¥åº¦æå‡ï¼ˆUrgency-based Promotionï¼‰</strong></p>
<div class="codehilite"><pre><span></span><code>åŸºäºdeadlineçš„ä¼˜å…ˆçº§ï¼š
Urgency = (Deadline - Current_time) / Service_time
Priority_effective = f(Priority_base, Urgency)

ç´§æ€¥åº¦åˆ†çº§ï¼š

<span class="k">-</span> Critical: Urgency &lt; 1.5  â†’ æœ€é«˜ä¼˜å…ˆçº§
<span class="k">-</span> Urgent:   Urgency &lt; 3.0  â†’ ä¼˜å…ˆçº§+2
<span class="k">-</span> Normal:   Urgency &lt; 5.0  â†’ ä¼˜å…ˆçº§+1
<span class="k">-</span> Relaxed:  Urgency â‰¥ 5.0  â†’ ä¿æŒåŸä¼˜å…ˆçº§
</code></pre></div>

<h3 id="623">6.2.3 å¤šçº§åé¦ˆé˜Ÿåˆ—</h3>
<p>å€Ÿé‰´æ“ä½œç³»ç»Ÿè°ƒåº¦ç®—æ³•ï¼Œå®ç°å¤šçº§åé¦ˆé˜Ÿåˆ—æœºåˆ¶ï¼š</p>
<div class="codehilite"><pre><span></span><code><span class="n">å¤šçº§é˜Ÿåˆ—ç»“æ„</span><span class="err">ï¼š</span>
<span class="k">Level</span><span class="w"> </span><span class="mi">0</span><span class="err">:</span><span class="w"> </span><span class="n">Quantum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="k">transaction</span><span class="w">  </span><span class="o">[</span><span class="n">æœ€é«˜ä¼˜å…ˆçº§</span><span class="o">]</span>
<span class="k">Level</span><span class="w"> </span><span class="mi">1</span><span class="err">:</span><span class="w"> </span><span class="n">Quantum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="w"> </span><span class="n">transactions</span>
<span class="k">Level</span><span class="w"> </span><span class="mi">2</span><span class="err">:</span><span class="w"> </span><span class="n">Quantum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="n">transactions</span>
<span class="k">Level</span><span class="w"> </span><span class="mi">3</span><span class="err">:</span><span class="w"> </span><span class="n">Quantum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">No</span><span class="w"> </span><span class="k">limit</span><span class="w">       </span><span class="o">[</span><span class="n">æœ€ä½ä¼˜å…ˆçº§</span><span class="o">]</span>

<span class="n">è°ƒåº¦è§„åˆ™</span><span class="err">ï¼š</span>

<span class="mf">1.</span><span class="w"> </span><span class="n">æ–°è¯·æ±‚è¿›å…¥Level</span><span class="w"> </span><span class="mi">0</span>
<span class="mf">2.</span><span class="w"> </span><span class="n">ç”¨å®Œæ—¶é—´ç‰‡é™çº§åˆ°ä¸‹ä¸€çº§</span>
<span class="mf">3.</span><span class="w"> </span><span class="n">å®ŒæˆIOæå‡ä¸€çº§</span>
<span class="mf">4.</span><span class="w"> </span><span class="n">é•¿æ—¶é—´ç­‰å¾…è‡ªåŠ¨æå‡</span>

<span class="n">çŠ¶æ€è½¬æ¢</span><span class="err">ï¼š</span>
<span class="w">    </span><span class="o">[</span><span class="n">New</span><span class="o">]</span><span class="w"> </span><span class="err">â†’</span><span class="w"> </span><span class="k">Level</span><span class="w"> </span><span class="mi">0</span>
<span class="w">      </span><span class="err">â†“</span><span class="w"> </span><span class="p">(</span><span class="n">quantum</span><span class="w"> </span><span class="n">expired</span><span class="p">)</span>
<span class="w">    </span><span class="k">Level</span><span class="w"> </span><span class="mi">1</span>
<span class="w">      </span><span class="err">â†“</span><span class="w"> </span><span class="err">â†‘</span><span class="w"> </span><span class="p">(</span><span class="n">promote</span><span class="w"> </span><span class="k">after</span><span class="w"> </span><span class="n">wait</span><span class="p">)</span>
<span class="w">    </span><span class="k">Level</span><span class="w"> </span><span class="mi">2</span>
<span class="w">      </span><span class="err">â†“</span><span class="w"> </span><span class="err">â†‘</span>
<span class="w">    </span><span class="k">Level</span><span class="w"> </span><span class="mi">3</span>
</code></pre></div>

<h2 id="63">6.3 å¸¦å®½åˆ†é…ä¸ä¿¡ç”¨æœºåˆ¶</h2>
<h3 id="631">6.3.1 å¸¦å®½é¢„ç•™ä¸åˆ†é…</h3>
<p><strong>é™æ€å¸¦å®½åˆ†é…</strong></p>
<div class="codehilite"><pre><span></span><code>å¸¦å®½åˆ†é…è¡¨ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Master  â”‚ Reserved % â”‚ Actual BW   â”‚  Credits â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ CPU      â”‚    20%     â”‚  2.56 GB/s  â”‚   256    â”‚
â”‚ GPU      â”‚    35%     â”‚  4.48 GB/s  â”‚   448    â”‚
â”‚ Display  â”‚    15%     â”‚  1.92 GB/s  â”‚   192    â”‚
â”‚ Video    â”‚    20%     â”‚  2.56 GB/s  â”‚   256    â”‚
â”‚ Others   â”‚    10%     â”‚  1.28 GB/s  â”‚   128    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

å‘¨æœŸæ€§åˆ·æ–°ï¼š
æ¯ä¸ªEpochï¼ˆå¦‚1000ä¸ªæ—¶é’Ÿå‘¨æœŸï¼‰é‡ç½®ä¿¡ç”¨å€¼
</code></pre></div>

<p><strong>åŠ¨æ€å¸¦å®½è°ƒæ•´</strong></p>
<div class="codehilite"><pre><span></span><code><span class="n">è‡ªé€‚åº”ç®—æ³•</span><span class="err">ï¼š</span>

<span class="mf">1.</span><span class="w"> </span><span class="n">ç›‘æµ‹å®é™…ä½¿ç”¨ç‡</span>
<span class="w">   </span><span class="n">Utilization</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Used_BW</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">Allocated_BW</span><span class="o">[</span><span class="n">i</span><span class="o">]</span>

<span class="mf">2.</span><span class="w"> </span><span class="n">é‡æ–°åˆ†é…æœªä½¿ç”¨å¸¦å®½</span>
<span class="w">   </span><span class="n">Unused_BW</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Î£</span><span class="p">(</span><span class="n">Allocated</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">Used</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="p">)</span>
<span class="w">   </span><span class="n">Extra</span><span class="o">[</span><span class="n">j</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Unused_BW</span><span class="w"> </span><span class="err">Ã—</span><span class="w"> </span><span class="n">Weight</span><span class="o">[</span><span class="n">j</span><span class="o">]</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">Î£</span><span class="p">(</span><span class="n">Weight</span><span class="p">)</span>

<span class="mf">3.</span><span class="w"> </span><span class="n">æ›´æ–°åˆ†é…</span>
<span class="w">   </span><span class="n">New_Allocated</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Base_Allocated</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">Extra</span><span class="o">[</span><span class="n">i</span><span class="o">]</span>
</code></pre></div>

<h3 id="632-credit-based">6.3.2 ä¿¡ç”¨æœºåˆ¶ï¼ˆCredit-basedï¼‰</h3>
<p><strong>åŸºæœ¬ä¿¡ç”¨ç³»ç»Ÿ</strong></p>
<div class="codehilite"><pre><span></span><code><span class="n">ä¿¡ç”¨æ¶ˆè€—ä¸è¡¥å……</span><span class="err">ï¼š</span>
<span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="err">â”‚</span><span class="w">         </span><span class="n">Credit</span><span class="w"> </span><span class="n">Manager</span><span class="w">               </span><span class="err">â”‚</span>
<span class="err">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span>
<span class="err">â”‚</span><span class="w"> </span><span class="n">Master</span><span class="w"> </span><span class="nl">A</span><span class="p">:</span><span class="w"> </span><span class="n">Credits</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">100</span><span class="w">             </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="o">-</span><span class="w"> </span><span class="n">Issue</span><span class="w"> </span><span class="nl">request</span><span class="p">:</span><span class="w"> </span><span class="n">Credits</span><span class="w"> </span><span class="o">-=</span><span class="w"> </span><span class="mi">8</span><span class="w">     </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="o">-</span><span class="w"> </span><span class="n">Per</span><span class="w"> </span><span class="k">cycle</span><span class="err">:</span><span class="w"> </span><span class="n">Credits</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mi">2</span><span class="w">         </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="o">-</span><span class="w"> </span><span class="nf">Max</span><span class="w"> </span><span class="nl">credits</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">                </span><span class="err">â”‚</span>
<span class="err">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span>
<span class="err">â”‚</span><span class="w"> </span><span class="n">Master</span><span class="w"> </span><span class="nl">B</span><span class="p">:</span><span class="w"> </span><span class="n">Credits</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">50</span><span class="w">              </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="o">-</span><span class="w"> </span><span class="n">Issue</span><span class="w"> </span><span class="nl">request</span><span class="p">:</span><span class="w"> </span><span class="n">Credits</span><span class="w"> </span><span class="o">-=</span><span class="w"> </span><span class="mi">4</span><span class="w">     </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="o">-</span><span class="w"> </span><span class="n">Per</span><span class="w"> </span><span class="k">cycle</span><span class="err">:</span><span class="w"> </span><span class="n">Credits</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mi">1</span><span class="w">         </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">   </span><span class="o">-</span><span class="w"> </span><span class="nf">Max</span><span class="w"> </span><span class="nl">credits</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="w">                </span><span class="err">â”‚</span>
<span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>

<span class="n">ä»²è£å†³ç­–</span><span class="err">ï¼š</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">Credits</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">Has_Request</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">    </span><span class="k">Grant</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">true</span><span class="p">;</span>
<span class="w">    </span><span class="n">Credits</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="w"> </span><span class="o">-=</span><span class="w"> </span><span class="n">Request_Size</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="p">;</span>
<span class="err">}</span>
</code></pre></div>

<p><strong>åˆ†å±‚ä¿¡ç”¨æœºåˆ¶</strong></p>
<div class="codehilite"><pre><span></span><code>ä¸¤çº§ä¿¡ç”¨ç³»ç»Ÿï¼š
Level 1: Guaranteed Credits (ä¿è¯å¸¦å®½)
Level 2: Best-effort Credits (é¢å¤–å¸¦å®½)

è°ƒåº¦é€»è¾‘ï¼š

1. ä¼˜å…ˆä½¿ç”¨Guaranteed Credits
2. Guaranteedç”¨å®Œåä½¿ç”¨Best-effort Credits
3. ä¸¤ç§ä¿¡ç”¨ç‹¬ç«‹è®¡ç®—å’Œè¡¥å……

ä¿¡ç”¨å€Ÿè´·ï¼š

- å…è®¸ç´§æ€¥è¯·æ±‚å€Ÿç”¨æœªæ¥ä¿¡ç”¨
- è®¾ç½®æœ€å¤§é€æ”¯é¢åº¦
- é€æ”¯åéœ€è¦è¿˜æ¸…æ‰èƒ½ç»§ç»­
</code></pre></div>

<h3 id="633">6.3.3 ä»¤ç‰Œæ¡¶ç®—æ³•</h3>
<p>å®ç°æ›´ç²¾ç»†çš„æµé‡æ§åˆ¶ï¼š</p>
<div class="codehilite"><pre><span></span><code><span class="nt">ä»¤ç‰Œæ¡¶å‚æ•°</span><span class="err">ï¼š</span>
<span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="err">â”‚</span><span class="w">     </span><span class="nt">Token</span><span class="w"> </span><span class="nt">Bucket</span><span class="w">             </span><span class="err">â”‚</span>
<span class="err">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span>
<span class="err">â”‚</span><span class="w"> </span><span class="nt">Bucket</span><span class="w"> </span><span class="nt">Size</span><span class="o">:</span><span class="w"> </span><span class="nt">1024</span><span class="w"> </span><span class="nt">tokens</span><span class="w">     </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w"> </span><span class="nt">Fill</span><span class="w"> </span><span class="nt">Rate</span><span class="o">:</span><span class="w"> </span><span class="nt">100</span><span class="w"> </span><span class="nt">tokens</span><span class="o">/</span><span class="nt">cycle</span><span class="w">  </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w"> </span><span class="nt">Current</span><span class="w"> </span><span class="nt">Tokens</span><span class="o">:</span><span class="w"> </span><span class="nt">756</span><span class="w">           </span><span class="err">â”‚</span>
<span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>

<span class="nt">ç®—æ³•æµç¨‹</span><span class="err">ï¼š</span>

<span class="nt">1</span><span class="o">.</span><span class="w"> </span><span class="nt">åˆå§‹åŒ–</span><span class="err">ï¼š</span><span class="nt">Tokens</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">Bucket_Size</span>
<span class="nt">2</span><span class="o">.</span><span class="w"> </span><span class="nt">æ¯å‘¨æœŸ</span><span class="err">ï¼š</span><span class="nt">Tokens</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="nt">Fill_Rate</span><span class="w"> </span><span class="o">(</span><span class="nt">ä¸è¶…è¿‡Bucket_Size</span><span class="o">)</span>
<span class="nt">3</span><span class="o">.</span><span class="w"> </span><span class="nt">å‘é€è¯·æ±‚</span><span class="err">ï¼š</span>
<span class="w">   </span><span class="nt">if</span><span class="w"> </span><span class="o">(</span><span class="nt">Tokens</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="nt">Request_Cost</span><span class="o">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">       </span><span class="err">Tokens</span><span class="w"> </span><span class="err">-=</span><span class="w"> </span><span class="err">Request_Cost</span><span class="p">;</span>
<span class="w">       </span><span class="err">Grant_Request()</span><span class="p">;</span>
<span class="w">   </span><span class="p">}</span><span class="w"> </span><span class="nt">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">       </span><span class="err">Queue_Request()</span><span class="p">;</span>
<span class="w">   </span><span class="p">}</span>

<span class="nt">çªå‘å¤„ç†</span><span class="err">ï¼š</span>

<span class="nt">-</span><span class="w"> </span><span class="nt">æ¡¶æ»¡æ—¶å¯å¤„ç†çªå‘æµé‡</span>
<span class="nt">-</span><span class="w"> </span><span class="nt">Fill</span><span class="w"> </span><span class="nt">Rateå†³å®šå¹³å‡å¸¦å®½</span>
<span class="nt">-</span><span class="w"> </span><span class="nt">Bucket</span><span class="w"> </span><span class="nt">Sizeå†³å®šçªå‘å®¹é‡</span>
</code></pre></div>

<h2 id="64">6.4 å»¶è¿Ÿæ•æ„Ÿå‹è°ƒåº¦</h2>
<h3 id="641-sjf">6.4.1 æœ€çŸ­ä½œä¸šä¼˜å…ˆï¼ˆSJFï¼‰</h3>
<p>é’ˆå¯¹ä¸åŒå¤§å°çš„è¯·æ±‚ä¼˜åŒ–å¹³å‡å»¶è¿Ÿï¼š</p>
<div class="codehilite"><pre><span></span><code><span class="nt">è¯·æ±‚åˆ†ç±»</span><span class="err">ï¼š</span>
<span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="err">â”‚</span><span class="w"> </span><span class="nt">Request</span><span class="w"> </span><span class="nt">Type</span><span class="err">â”‚</span><span class="w">   </span><span class="nt">Size</span><span class="w">   </span><span class="err">â”‚</span><span class="w">  </span><span class="nt">Priority</span><span class="w">  </span><span class="err">â”‚</span>
<span class="err">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span>
<span class="err">â”‚</span><span class="w"> </span><span class="nt">Cache</span><span class="w"> </span><span class="nt">Line</span><span class="w">  </span><span class="err">â”‚</span><span class="w">  </span><span class="nt">64</span><span class="w"> </span><span class="nt">B</span><span class="w">    </span><span class="err">â”‚</span><span class="w">    </span><span class="nt">High</span><span class="w">    </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w"> </span><span class="nt">Partial</span><span class="w">     </span><span class="err">â”‚</span><span class="w">  </span><span class="nt">128</span><span class="w"> </span><span class="nt">B</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="nt">Medium</span><span class="w">   </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w"> </span><span class="nt">Full</span><span class="w"> </span><span class="nt">Burst</span><span class="w">  </span><span class="err">â”‚</span><span class="w">  </span><span class="nt">256</span><span class="w"> </span><span class="nt">B</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="nt">Normal</span><span class="w">   </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w"> </span><span class="nt">Block</span><span class="w">       </span><span class="err">â”‚</span><span class="w">  </span><span class="nt">512</span><span class="w"> </span><span class="nt">B</span><span class="o">+</span><span class="w">  </span><span class="err">â”‚</span><span class="w">    </span><span class="nt">Low</span><span class="w">     </span><span class="err">â”‚</span>
<span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>

<span class="nt">è°ƒåº¦ç­–ç•¥</span><span class="err">ï¼š</span>

<span class="nt">1</span><span class="o">.</span><span class="w"> </span><span class="nt">ä¼°ç®—æœåŠ¡æ—¶é—´</span><span class="err">ï¼š</span>
<span class="w">   </span><span class="nt">Service_Time</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nt">Size</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="nt">Bandwidth</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nt">Fixed_Overhead</span>

<span class="nt">2</span><span class="o">.</span><span class="w"> </span><span class="nt">æŒ‰æœåŠ¡æ—¶é—´æ’åº</span><span class="err">ï¼š</span>
<span class="w">   </span><span class="nt">Priority_Queue</span><span class="p">.</span><span class="nc">sort</span><span class="o">(</span><span class="nt">by</span><span class="o">:</span><span class="w"> </span><span class="nt">Service_Time</span><span class="o">)</span>

<span class="nt">3</span><span class="o">.</span><span class="w"> </span><span class="nt">é˜²æ­¢å¤§è¯·æ±‚é¥¥é¥¿</span><span class="err">ï¼š</span>
<span class="w">   </span><span class="nt">if</span><span class="w"> </span><span class="o">(</span><span class="nt">Large_Request</span><span class="p">.</span><span class="nc">Wait_Time</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="nt">Threshold</span><span class="o">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">       </span><span class="err">Boost_Priority(Large_Request)</span><span class="p">;</span>
<span class="w">   </span><span class="p">}</span>
</code></pre></div>

<h3 id="642">6.4.2 å…³é”®è·¯å¾„è¯†åˆ«</h3>
<p>è¯†åˆ«å¹¶ä¼˜å…ˆå¤„ç†å½±å“ç³»ç»Ÿæ€§èƒ½çš„å…³é”®è¯·æ±‚ï¼š</p>
<div class="codehilite"><pre><span></span><code>å…³é”®è·¯å¾„æ ‡è®°ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Critical Path Detection      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ CPU Instruction Fetch: â† Critical
â”‚ CPU Data Load (blocking): â† Critical
â”‚ CPU Data Store (posted): â† Normal
â”‚ GPU Texture Fetch: â† High
â”‚ GPU Frame Buffer: â† Normal
â”‚ Prefetch: â† Low
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

è¯†åˆ«æœºåˆ¶ï¼š

1. ç¡¬ä»¶æ ‡è®°ï¼š
   - CPUå‘å‡ºçš„è¯·æ±‚æºå¸¦criticalæ ‡å¿—
   - æ ¹æ®æŒ‡ä»¤ç±»å‹è‡ªåŠ¨åˆ¤æ–­

2. è½¯ä»¶æç¤ºï¼š
   - é€šè¿‡QoSå­—æ®µæŒ‡å®šå…³é”®æ€§
   - ç¼–è¯‘å™¨æˆ–OSæ ‡è®°å…³é”®è·¯å¾„

3. åŠ¨æ€å­¦ä¹ ï¼š
   - ç›‘æµ‹è¯·æ±‚çš„åç»­å½±å“
   - å»ºç«‹å…³é”®è·¯å¾„é¢„æµ‹æ¨¡å‹
</code></pre></div>

<h3 id="643">6.4.3 å»¶è¿Ÿç›®æ ‡è°ƒåº¦</h3>
<p>åŸºäºå»¶è¿Ÿç›®æ ‡ï¼ˆLatency Targetï¼‰çš„è°ƒåº¦ç®—æ³•ï¼š</p>
<div class="codehilite"><pre><span></span><code>å»¶è¿Ÿç›®æ ‡ç®¡ç†ï¼š
æ¯ä¸ªè¯·æ±‚æºå¸¦å»¶è¿Ÿç›®æ ‡ï¼š
Request = {
    Address,
    Size,
    Target_Latency,  // æœŸæœ›å®Œæˆæ—¶é—´
    Arrival_Time     // åˆ°è¾¾æ—¶é—´
}

æ¾å¼›åº¦è®¡ç®—ï¼š
Slack = Target_Latency - Expected_Service_Time - (Current_Time - Arrival_Time)

è°ƒåº¦ä¼˜å…ˆçº§ï¼š
Priority = 1 / (Slack + Îµ)  // Îµé˜²æ­¢é™¤é›¶

åŠ¨æ€è°ƒæ•´ï¼š
if (Slack &lt; 0) {
    // å·²ç»è¿åç›®æ ‡
    Priority = MAXIMUM;
    Record_Violation();
} else if (Slack &lt; Critical_Threshold) {
    // æ¥è¿‘è¿å
    Priority = HIGH;
    Alert_System();
}
</code></pre></div>

<h2 id="65">6.5 å…¬å¹³æ€§ä¸é¥¥é¥¿é¿å…</h2>
<h3 id="651">6.5.1 å…¬å¹³æ€§åº¦é‡</h3>
<p>å®šä¹‰å’Œè¯„ä¼°è°ƒåº¦å…¬å¹³æ€§ï¼š</p>
<div class="codehilite"><pre><span></span><code><span class="n">å…¬å¹³æ€§æŒ‡æ ‡</span><span class="err">ï¼š</span>

<span class="mf">1.</span><span class="w"> </span><span class="n">Jain</span><span class="err">&#39;</span><span class="n">s</span><span class="w"> </span><span class="n">Fairness</span><span class="w"> </span><span class="k">Index</span><span class="err">:</span>
<span class="w">   </span><span class="n">J</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">Î£</span><span class="p">(</span><span class="n">xi</span><span class="p">))</span><span class="n">Â²</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="err">Ã—</span><span class="w"> </span><span class="n">Î£</span><span class="p">(</span><span class="n">xiÂ²</span><span class="p">))</span>
<span class="w">   </span><span class="n">å…¶ä¸­xiæ˜¯å„ä¸»è®¾å¤‡è·å¾—çš„å¸¦å®½</span>
<span class="w">   </span><span class="n">J</span><span class="w"> </span><span class="err">âˆˆ</span><span class="w"> </span><span class="o">[</span><span class="n">0,1</span><span class="o">]</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="n">è¡¨ç¤ºå®Œå…¨å…¬å¹³</span>

<span class="mf">2.</span><span class="w"> </span><span class="nf">Max</span><span class="o">-</span><span class="nf">Min</span><span class="w"> </span><span class="nl">Fairness</span><span class="p">:</span>
<span class="w">   </span><span class="n">æœ€å¤§åŒ–æœ€å°ä»½é¢</span>
<span class="w">   </span><span class="nf">max</span><span class="p">(</span><span class="nf">min</span><span class="p">(</span><span class="n">BW</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">Demand</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="p">))</span>

<span class="mf">3.</span><span class="w"> </span><span class="n">Proportional</span><span class="w"> </span><span class="nl">Fairness</span><span class="p">:</span>
<span class="w">   </span><span class="n">æŒ‰æƒé‡æ¯”ä¾‹åˆ†é…</span>
<span class="w">   </span><span class="n">BW</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">Weight</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Constant</span>

<span class="n">ç›‘æµ‹ç¤ºä¾‹</span><span class="err">ï¼š</span>
<span class="err">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”</span>
<span class="err">â”‚</span><span class="w">  </span><span class="n">Master</span><span class="w">  </span><span class="err">â”‚</span><span class="w"> </span><span class="n">Expected</span><span class="err">â”‚</span><span class="w"> </span><span class="n">Actual</span><span class="w"> </span><span class="err">â”‚</span><span class="w"> </span><span class="n">Fairness</span><span class="w"> </span><span class="err">â”‚</span>
<span class="err">â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤</span>
<span class="err">â”‚</span><span class="w">  </span><span class="n">CPU</span><span class="w">     </span><span class="err">â”‚</span><span class="w">  </span><span class="mi">25</span><span class="o">%</span><span class="w">    </span><span class="err">â”‚</span><span class="w">  </span><span class="mi">23</span><span class="o">%</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="mf">0.92</span><span class="w">   </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="n">GPU</span><span class="w">     </span><span class="err">â”‚</span><span class="w">  </span><span class="mi">40</span><span class="o">%</span><span class="w">    </span><span class="err">â”‚</span><span class="w">  </span><span class="mi">42</span><span class="o">%</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="mf">1.05</span><span class="w">   </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="n">Display</span><span class="w"> </span><span class="err">â”‚</span><span class="w">  </span><span class="mi">20</span><span class="o">%</span><span class="w">    </span><span class="err">â”‚</span><span class="w">  </span><span class="mi">19</span><span class="o">%</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="mf">0.95</span><span class="w">   </span><span class="err">â”‚</span>
<span class="err">â”‚</span><span class="w">  </span><span class="n">Others</span><span class="w">  </span><span class="err">â”‚</span><span class="w">  </span><span class="mi">15</span><span class="o">%</span><span class="w">    </span><span class="err">â”‚</span><span class="w">  </span><span class="mi">16</span><span class="o">%</span><span class="w">   </span><span class="err">â”‚</span><span class="w">   </span><span class="mf">1.07</span><span class="w">   </span><span class="err">â”‚</span>
<span class="err">â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</span>
<span class="n">Overall</span><span class="w"> </span><span class="n">Fairness</span><span class="w"> </span><span class="k">Index</span><span class="err">:</span><span class="w"> </span><span class="mf">0.96</span>
</code></pre></div>

<h3 id="652">6.5.2 é¥¥é¥¿æ£€æµ‹ä¸é¢„é˜²</h3>
<p><strong>é¥¥é¥¿æ£€æµ‹æœºåˆ¶</strong></p>
<div class="codehilite"><pre><span></span><code><span class="n">ç›‘æµ‹å‚æ•°</span><span class="err">ï¼š</span>

<span class="o">-</span><span class="w"> </span><span class="nl">Max_Wait_Time</span><span class="p">:</span><span class="w"> </span><span class="n">æœ€å¤§ç­‰å¾…æ—¶é—´</span>
<span class="o">-</span><span class="w"> </span><span class="nl">Min_Service_Rate</span><span class="p">:</span><span class="w"> </span><span class="n">æœ€å°æœåŠ¡é€Ÿç‡</span>
<span class="o">-</span><span class="w"> </span><span class="nl">Starvation_Threshold</span><span class="p">:</span><span class="w"> </span><span class="n">é¥¥é¥¿åˆ¤å®šé˜ˆå€¼</span>

<span class="n">æ£€æµ‹é€»è¾‘</span><span class="err">ï¼š</span>
<span class="k">for</span><span class="w"> </span><span class="k">each</span><span class="w"> </span><span class="n">request</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nl">queue</span><span class="p">:</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="k">Current_Time</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">Arrival_Time</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">Max_Wait_Time</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="n">Flag_Starvation</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
<span class="w">        </span><span class="n">Boost_to_Maximum_Priority</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
<span class="w">    </span><span class="err">}</span>

<span class="k">for</span><span class="w"> </span><span class="k">each</span><span class="w"> </span><span class="nl">master</span><span class="p">:</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">Service_Rate</span><span class="o">[</span><span class="n">master</span><span class="o">]</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">Min_Service_Rate</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">        </span><span class="n">Flag_Master_Starvation</span><span class="p">(</span><span class="n">master</span><span class="p">);</span>
<span class="w">        </span><span class="n">Reserve_Emergency_Bandwidth</span><span class="p">(</span><span class="n">master</span><span class="p">);</span>
<span class="w">    </span><span class="err">}</span>
</code></pre></div>

<p><strong>é¢„é˜²æœºåˆ¶</strong></p>
<div class="codehilite"><pre><span></span><code><span class="mf">1.</span><span class="w"> </span><span class="n">ä¿è¯æœ€å°ä»½é¢</span><span class="err">ï¼š</span>
<span class="w">   </span><span class="n">æ¯ä¸ªä¸»è®¾å¤‡ä¿è¯æœ€å°å¸¦å®½</span>
<span class="w">   </span><span class="n">Reserved_BW</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">Min_Required</span><span class="o">[</span><span class="n">i</span><span class="o">]</span>

<span class="mf">2.</span><span class="w"> </span><span class="n">è½®è¯¢æœºåˆ¶</span><span class="err">ï¼š</span>
<span class="w">   </span><span class="n">å®šæœŸå¼ºåˆ¶è½®è¯¢æ‰€æœ‰é˜Ÿåˆ—</span>
<span class="w">   </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="k">Cycle</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="n">Round_Robin_Period</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">      </span><span class="n">Service_Next_Queue</span><span class="p">();</span>
<span class="w">   </span><span class="err">}</span>

<span class="mf">3.</span><span class="w"> </span><span class="n">ä¼˜å…ˆçº§ä¸Šé™</span><span class="err">ï¼š</span>
<span class="w">   </span><span class="n">é™åˆ¶é«˜ä¼˜å…ˆçº§è¿ç»­æœåŠ¡æ¬¡æ•°</span>
<span class="w">   </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">High_Priority_Count</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">Max_Consecutive</span><span class="p">)</span><span class="w"> </span><span class="err">{</span>
<span class="w">      </span><span class="n">Force_Service_Lower_Priority</span><span class="p">();</span>
<span class="w">   </span><span class="err">}</span>
</code></pre></div>

<h3 id="653-wfq">6.5.3 åŠ æƒå…¬å¹³é˜Ÿåˆ—ï¼ˆWFQï¼‰</h3>
<p>å®ç°åŠ æƒå…¬å¹³è°ƒåº¦ï¼š</p>
<div class="codehilite"><pre><span></span><code><span class="n">è™šæ‹Ÿæ—¶é—´ç³»ç»Ÿ</span><span class="err">ï¼š</span>
<span class="n">Virtual_Time</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Service_Amount</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">Weight</span>

<span class="n">è°ƒåº¦ç®—æ³•</span><span class="err">ï¼š</span>

<span class="mf">1.</span><span class="w"> </span><span class="n">è®¡ç®—è™šæ‹Ÿå®Œæˆæ—¶é—´</span>
<span class="w">   </span><span class="n">Virtual_Finish</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Virtual_Start</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="k">Size</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">Weight</span><span class="o">[</span><span class="n">i</span><span class="o">]</span>

<span class="mf">2.</span><span class="w"> </span><span class="n">é€‰æ‹©æœ€å°è™šæ‹Ÿå®Œæˆæ—¶é—´çš„è¯·æ±‚</span>
<span class="w">   </span><span class="n">Next_Request</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">min</span><span class="p">(</span><span class="n">Virtual_Finish</span><span class="o">[</span><span class="n">i</span><span class="o">]</span><span class="p">)</span>

<span class="mf">3.</span><span class="w"> </span><span class="n">æ›´æ–°è™šæ‹Ÿæ—¶é—´</span>
<span class="w">   </span><span class="n">Virtual_Start</span><span class="o">[</span><span class="n">next</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">max</span><span class="p">(</span><span class="n">Virtual_Time</span><span class="p">,</span><span class="w"> </span><span class="n">Virtual_Finish</span><span class="o">[</span><span class="n">prev</span><span class="o">]</span><span class="p">)</span>

<span class="n">ç¤ºä¾‹æ‰§è¡Œ</span><span class="err">ï¼š</span>
<span class="nl">æ—¶åˆ»T0</span><span class="p">:</span><span class="w"> </span>
<span class="n">Master</span><span class="w"> </span><span class="n">A</span><span class="w"> </span><span class="p">(</span><span class="n">W</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span><span class="err">:</span><span class="w"> </span><span class="n">VF</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">64</span><span class="o">/</span><span class="mi">2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">32</span><span class="w">  </span><span class="err">â†</span><span class="w"> </span><span class="n">é€‰ä¸­</span>
<span class="n">Master</span><span class="w"> </span><span class="n">B</span><span class="w"> </span><span class="p">(</span><span class="n">W</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="err">:</span><span class="w"> </span><span class="n">VF</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">64</span><span class="o">/</span><span class="mi">1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">64</span>

<span class="nl">æ—¶åˆ»T1</span><span class="p">:</span>
<span class="n">Master</span><span class="w"> </span><span class="n">A</span><span class="w"> </span><span class="p">(</span><span class="n">W</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span><span class="err">:</span><span class="w"> </span><span class="n">VF</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">32</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">64</span><span class="o">/</span><span class="mi">2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">64</span>
<span class="n">Master</span><span class="w"> </span><span class="n">B</span><span class="w"> </span><span class="p">(</span><span class="n">W</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="err">:</span><span class="w"> </span><span class="n">VF</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">64</span><span class="o">/</span><span class="mi">1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">64</span><span class="w">  </span><span class="err">â†</span><span class="w"> </span><span class="n">é€‰ä¸­</span>

<span class="n">å¸¦å®½æ¯”ä¾‹</span><span class="w"> </span><span class="nl">A</span><span class="p">:</span><span class="n">B</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="err">:</span><span class="mi">1</span><span class="w"> </span><span class="p">(</span><span class="n">ç¬¦åˆæƒé‡æ¯”</span><span class="p">)</span>
</code></pre></div>

<h2 id="66">6.6 æœ¬ç« å°ç»“</h2>
<p>æœ¬ç« æ·±å…¥æ¢è®¨äº†DDRæ§åˆ¶å™¨çš„QoSæœºåˆ¶å’Œä»²è£ç­–ç•¥è®¾è®¡ã€‚å…³é”®è¦ç‚¹åŒ…æ‹¬ï¼š</p>
<ol>
<li>
<p><strong>QoSéœ€æ±‚å»ºæ¨¡</strong>ï¼šä¸åŒä¸»è®¾å¤‡æœ‰ä¸åŒçš„æ€§èƒ½éœ€æ±‚ç‰¹å¾ï¼Œéœ€è¦å»ºç«‹é‡åŒ–æ¨¡å‹æ¥æè¿°å»¶è¿Ÿã€å¸¦å®½å’Œå®æ—¶æ€§è¦æ±‚ã€‚</p>
</li>
<li>
<p><strong>ä¼˜å…ˆçº§è°ƒåº¦</strong>ï¼šä»é™æ€ä¼˜å…ˆçº§åˆ°åŠ¨æ€æå‡ï¼Œå†åˆ°å¤šçº§åé¦ˆé˜Ÿåˆ—ï¼Œé€æ­¥è§£å†³é¥¥é¥¿å’Œå“åº”æ€§é—®é¢˜ã€‚</p>
</li>
<li>
<p><strong>å¸¦å®½ç®¡ç†</strong>ï¼šé€šè¿‡ä¿¡ç”¨æœºåˆ¶å’Œä»¤ç‰Œæ¡¶ç®—æ³•ï¼Œå®ç°ç²¾ç¡®çš„å¸¦å®½åˆ†é…å’Œæµé‡æ§åˆ¶ã€‚</p>
</li>
<li>
<p><strong>å»¶è¿Ÿä¼˜åŒ–</strong>ï¼šè¯†åˆ«å…³é”®è·¯å¾„ï¼Œå®æ–½å»¶è¿Ÿæ•æ„Ÿå‹è°ƒåº¦ï¼Œç¡®ä¿æ—¶å»¶æ•æ„Ÿè¯·æ±‚å¾—åˆ°åŠæ—¶å“åº”ã€‚</p>
</li>
<li>
<p><strong>å…¬å¹³æ€§ä¿è¯</strong>ï¼šé€šè¿‡åŠ æƒå…¬å¹³é˜Ÿåˆ—å’Œé¥¥é¥¿æ£€æµ‹æœºåˆ¶ï¼Œåœ¨è¿½æ±‚æ€§èƒ½çš„åŒæ—¶ä¿è¯ç³»ç»Ÿå…¬å¹³æ€§ã€‚</p>
</li>
</ol>
<p>å…³é”®è®¾è®¡æƒè¡¡ï¼š</p>
<ul>
<li>æ€§èƒ½ vs å…¬å¹³æ€§ï¼šè¿‡åº¦è¿½æ±‚æ€§èƒ½å¯èƒ½å¯¼è‡´ä¸å…¬å¹³</li>
<li>å¤æ‚åº¦ vs æ•ˆæœï¼šå¤æ‚ç®—æ³•å¸¦æ¥çš„æ”¶ç›Šæ˜¯å¦å€¼å¾—</li>
<li>é™æ€é…ç½® vs åŠ¨æ€é€‚åº”ï¼šå¦‚ä½•å¹³è¡¡å¯é¢„æµ‹æ€§å’Œçµæ´»æ€§</li>
</ul>
<h2 id="_2">ç»ƒä¹ é¢˜</h2>
<h3 id="_3">åŸºç¡€é¢˜</h3>
<p><strong>ç»ƒä¹ 6.1ï¼šä¼˜å…ˆçº§è®¡ç®—</strong>
æŸDDRæ§åˆ¶å™¨ä½¿ç”¨åŠ¨æ€ä¼˜å…ˆçº§æå‡æœºåˆ¶ï¼ŒåŸºç¡€ä¼˜å…ˆçº§èŒƒå›´0-3ï¼Œè€åŒ–å› å­ä¸º0.01/å‘¨æœŸã€‚å¦‚æœä¸€ä¸ªä¼˜å…ˆçº§ä¸º1çš„è¯·æ±‚å·²ç­‰å¾…200å‘¨æœŸï¼Œå…¶å½“å‰æœ‰æ•ˆä¼˜å…ˆçº§æ˜¯å¤šå°‘ï¼Ÿ</p>
<details>
<summary>ç­”æ¡ˆ</summary>
<p>æœ‰æ•ˆä¼˜å…ˆçº§ = åŸºç¡€ä¼˜å…ˆçº§ + è€åŒ–å› å­ Ã— ç­‰å¾…æ—¶é—´
= 1 + 0.01 Ã— 200
= 1 + 2
= 3</p>
<p>è¯¥è¯·æ±‚çš„æœ‰æ•ˆä¼˜å…ˆçº§æå‡åˆ°äº†3ï¼ˆæœ€é«˜ä¼˜å…ˆçº§ï¼‰ã€‚</p>
</details>
<p><strong>ç»ƒä¹ 6.2ï¼šå¸¦å®½åˆ†é…è®¡ç®—</strong>
ç³»ç»Ÿæ€»å¸¦å®½12.8 GB/sï¼Œå››ä¸ªä¸»è®¾å¤‡çš„æƒé‡åˆ†åˆ«ä¸º4:3:2:1ã€‚è¯·è®¡ç®—æ¯ä¸ªè®¾å¤‡çš„ç†è®ºåˆ†é…å¸¦å®½ã€‚</p>
<details>
<summary>ç­”æ¡ˆ</summary>
<p>æ€»æƒé‡ = 4 + 3 + 2 + 1 = 10</p>
<p>è®¾å¤‡1ï¼š12.8 Ã— 4/10 = 5.12 GB/s
è®¾å¤‡2ï¼š12.8 Ã— 3/10 = 3.84 GB/s<br />
è®¾å¤‡3ï¼š12.8 Ã— 2/10 = 2.56 GB/s
è®¾å¤‡4ï¼š12.8 Ã— 1/10 = 1.28 GB/s</p>
<p>éªŒè¯ï¼š5.12 + 3.84 + 2.56 + 1.28 = 12.8 GB/s âœ“</p>
</details>
<p><strong>ç»ƒä¹ 6.3ï¼šä¿¡ç”¨æœºåˆ¶</strong>
æŸä¸»è®¾å¤‡åˆå§‹ä¿¡ç”¨å€¼100ï¼Œæ¯å‘é€ä¸€ä¸ª64å­—èŠ‚è¯·æ±‚æ¶ˆè€—8ä¸ªä¿¡ç”¨ï¼Œæ¯å‘¨æœŸè¡¥å……2ä¸ªä¿¡ç”¨ã€‚å¦‚æœè¿ç»­å‘é€è¯·æ±‚ï¼Œæœ€å¤šèƒ½å‘é€å‡ ä¸ªè¯·æ±‚åä¿¡ç”¨è€—å°½ï¼Ÿ</p>
<details>
<summary>ç­”æ¡ˆ</summary>
<p>è®¾å¯ä»¥å‘é€nä¸ªè¯·æ±‚ï¼Œæ¯ä¸ªè¯·æ±‚éœ€è¦4ä¸ªå‘¨æœŸï¼ˆ64å­—èŠ‚/16å­—èŠ‚æ¯å‘¨æœŸï¼‰ã€‚</p>
<p>å‘é€nä¸ªè¯·æ±‚æ¶ˆè€—çš„ä¿¡ç”¨ï¼š8n
å‘é€nä¸ªè¯·æ±‚æœŸé—´è¡¥å……çš„ä¿¡ç”¨ï¼š2 Ã— 4 Ã— (n-1) = 8(n-1)</p>
<p>ä¿¡ç”¨å¹³è¡¡æ–¹ç¨‹ï¼š
100 + 8(n-1) â‰¥ 8n
100 + 8n - 8 â‰¥ 8n
92 â‰¥ 0</p>
<p>è¿™è¡¨æ˜åœ¨ç¨³æ€ä¸‹ï¼Œè¡¥å……é€Ÿç‡ç­‰äºæ¶ˆè€—é€Ÿç‡ï¼Œå¯ä»¥æ— é™å‘é€ã€‚</p>
<p>ä½†åˆå§‹é˜¶æ®µï¼š
ç¬¬1ä¸ªè¯·æ±‚åï¼š100 - 8 = 92
ç¬¬2ä¸ªè¯·æ±‚åï¼š92 + 8 - 8 = 92
...
å¯ä»¥æŒç»­å‘é€ï¼Œç³»ç»Ÿå¤„äºå¹³è¡¡çŠ¶æ€ã€‚</p>
<p>åˆå§‹çš„100ä¸ªä¿¡ç”¨å¯ä»¥æä¾›92/8 â‰ˆ 11ä¸ªè¯·æ±‚çš„ç¼“å†²ã€‚</p>
</details>
<h3 id="_4">æŒ‘æˆ˜é¢˜</h3>
<p><strong>ç»ƒä¹ 6.4ï¼šè°ƒåº¦ç®—æ³•è®¾è®¡</strong>
è®¾è®¡ä¸€ä¸ªè°ƒåº¦ç®—æ³•ï¼Œæ»¡è¶³ä»¥ä¸‹è¦æ±‚ï¼š</p>
<ul>
<li>CPUè¯·æ±‚å¹³å‡å»¶è¿Ÿ &lt; 100ns</li>
<li>GPUä¿è¯å¸¦å®½ â‰¥ 4GB/s</li>
<li>Displayç¡¬å®æ—¶deadline 16.67msåˆ·æ–°ä¸€å¸§</li>
<li>å…¬å¹³æ€§æŒ‡æ•° &gt; 0.9</li>
</ul>
<p>è¯·æè¿°ä½ çš„ç®—æ³•æ¡†æ¶å’Œå…³é”®å‚æ•°ã€‚</p>
<details>
<summary>ç­”æ¡ˆ</summary>
<p>æ··åˆè°ƒåº¦ç®—æ³•æ¡†æ¶ï¼š</p>
<ol>
<li>
<p><strong>åˆ†çº§é˜Ÿåˆ—ç»“æ„</strong>
   - å®æ—¶é˜Ÿåˆ—ï¼ˆDisplayï¼‰ï¼šæœ€é«˜ä¼˜å…ˆçº§ï¼ŒåŸºäºEDFè°ƒåº¦
   - ä½å»¶è¿Ÿé˜Ÿåˆ—ï¼ˆCPUï¼‰ï¼šæ¬¡é«˜ä¼˜å…ˆçº§ï¼Œä½¿ç”¨SJF
   - é«˜å¸¦å®½é˜Ÿåˆ—ï¼ˆGPUï¼‰ï¼šä¿¡ç”¨æœºåˆ¶ä¿è¯å¸¦å®½
   - é€šç”¨é˜Ÿåˆ—ï¼šWFQä¿è¯å…¬å¹³æ€§</p>
</li>
<li>
<p><strong>è°ƒåº¦ç­–ç•¥</strong></p>
</li>
</ol>
<div class="codehilite"><pre><span></span><code>if (Display.deadline_approaching()) {
    service(Display);  // ç»å¯¹ä¼˜å…ˆ
} else if (CPU.queue_not_empty() &amp;&amp; CPU.credits &gt; 0) {
    service(CPU.shortest_job());
} else if (GPU.credits &gt; threshold) {
    service(GPU.burst_transfer());
} else {
    weighted_fair_queue();
}
</code></pre></div>

<ol start="3">
<li>
<p><strong>å…³é”®å‚æ•°</strong>
   - Display deadline margin: 1msï¼ˆæå‰1mså¼€å§‹ä¼ è¾“ï¼‰
   - CPUä¿¡ç”¨è¡¥å……ç‡ï¼š2GB/sç­‰æ•ˆ
   - GPUæœ€å°ä¿¡ç”¨ï¼š4GB/sç­‰æ•ˆ
   - å…¬å¹³æ€§æ£€æŸ¥å‘¨æœŸï¼š1000 cycles
   - é¥¥é¥¿è¶…æ—¶ï¼š1000 cycles</p>
</li>
<li>
<p><strong>åŠ¨æ€è°ƒæ•´</strong>
   - ç›‘æµ‹å®é™…å»¶è¿Ÿå’Œå¸¦å®½
   - è¿åSLAæ—¶æå‡ä¼˜å…ˆçº§
   - å®šæœŸé‡æ–°å¹³è¡¡æƒé‡</p>
</li>
</ol>
</details>
<p><strong>ç»ƒä¹ 6.5ï¼šæ€§èƒ½åˆ†æ</strong>
æŸç³»ç»Ÿå®æµ‹æ•°æ®æ˜¾ç¤ºï¼šCPUå¹³å‡å»¶è¿Ÿ150nsï¼ˆç›®æ ‡100nsï¼‰ï¼ŒGPUå®é™…å¸¦å®½3.5GB/sï¼ˆç›®æ ‡4GB/sï¼‰ï¼Œä½†Displayä»æœªé”™è¿‡deadlineã€‚åˆ†æå¯èƒ½çš„åŸå› å’Œä¼˜åŒ–æ–¹å‘ã€‚</p>
<details>
<summary>ç­”æ¡ˆ</summary>
<p>é—®é¢˜åˆ†æï¼š</p>
<ol>
<li>
<p><strong>Displayå ç”¨è¿‡å¤šèµ„æº</strong>
   - Displayçš„ç¡¬å®æ—¶è¦æ±‚å¯¼è‡´å…¶é¢‘ç¹æŠ¢å 
   - å¯èƒ½å­˜åœ¨è¿‡åº¦ä¿å®ˆçš„deadline margin
   - Displayçš„çªå‘ä¼ è¾“å½±å“å…¶ä»–è®¾å¤‡</p>
</li>
<li>
<p><strong>å¯èƒ½çš„æ ¹å› </strong>
   - Displayé¢„ç•™å¸¦å®½è¿‡å¤§
   - CPUå’ŒGPUçš„ä¼˜å…ˆçº§è®¾ç½®ä¸å½“
   - ç¼ºä¹æœ‰æ•ˆçš„å¸¦å®½éš”ç¦»æœºåˆ¶</p>
</li>
<li>
<p><strong>ä¼˜åŒ–æ–¹å‘</strong></p>
</li>
</ol>
<p>a) ä¼˜åŒ–Displayè°ƒåº¦ï¼š</p>
<ul>
<li>å‡å°deadline marginï¼Œä»1msè°ƒæ•´åˆ°500us</li>
<li>å®æ–½æµé‡æ•´å½¢ï¼Œå¹³æ»‘Displayçš„çªå‘è¯·æ±‚</li>
<li>ä½¿ç”¨åŒç¼“å†²å‡å°‘ç´§æ€¥ç¨‹åº¦</li>
</ul>
<p>b) æå‡CPUæ€§èƒ½ï¼š</p>
<ul>
<li>ä¸ºCPUé¢„ç•™ä¸“ç”¨æ—¶éš™</li>
<li>å®æ–½å¿«é€Ÿè·¯å¾„ï¼Œç»•è¿‡å¸¸è§„ä»²è£</li>
<li>å¢åŠ CPUè¯·æ±‚çš„è€åŒ–å› å­</li>
</ul>
<p>c) ä¿è¯GPUå¸¦å®½ï¼š</p>
<ul>
<li>å¢åŠ GPUçš„ä¿è¯ä¿¡ç”¨å€¼</li>
<li>DisplayæœåŠ¡åä¼˜å…ˆè¡¥å¿GPU</li>
<li>å®æ–½å¸¦å®½å€Ÿç”¨æœºåˆ¶</li>
</ul>
<p>d) ç³»ç»Ÿçº§ä¼˜åŒ–ï¼š</p>
<ul>
<li>è°ƒæ•´Bankäº¤ç»‡ç­–ç•¥ï¼Œå‡å°‘å†²çª</li>
<li>ä¼˜åŒ–å‘½ä»¤è°ƒåº¦ï¼Œæé«˜å¹¶è¡Œåº¦</li>
<li>è€ƒè™‘æ—¶åˆ†å¤ç”¨ï¼ˆTDMï¼‰æ–¹æ¡ˆ</li>
</ul>
<ol start="4">
<li><strong>éªŒè¯æ–¹æ¡ˆ</strong>
   - é€é¡¹è°ƒæ•´ï¼Œæµ‹é‡å½±å“
   - å‹åŠ›æµ‹è¯•å„ç§ç»„åˆåœºæ™¯
   - é•¿æ—¶é—´è¿è¡ŒéªŒè¯ç¨³å®šæ€§</li>
</ol>
</details>
<p><strong>ç»ƒä¹ 6.6ï¼šQoSè¿åå¤„ç†</strong>
è®¾è®¡ä¸€ä¸ªQoSè¿åçš„æ£€æµ‹å’Œæ¢å¤æœºåˆ¶ï¼Œå½“æ£€æµ‹åˆ°æŸä¸ªä¸»è®¾å¤‡çš„QoSæŒç»­ä¸æ»¡è¶³æ—¶ï¼Œç³»ç»Ÿåº”è¯¥å¦‚ä½•å“åº”ï¼Ÿ</p>
<details>
<summary>ç­”æ¡ˆ</summary>
<p>QoSè¿åå¤„ç†æœºåˆ¶ï¼š</p>
<ol>
<li><strong>æ£€æµ‹æœºåˆ¶</strong></li>
</ol>
<div class="codehilite"><pre><span></span><code>ç›‘æµ‹çª—å£ï¼š1000 cycles
è¿åé˜ˆå€¼ï¼šè¿ç»­3ä¸ªçª—å£ä¸æ»¡è¶³

æ£€æµ‹é¡¹ç›®ï¼š

<span class="k">-</span> å»¶è¿Ÿè¿åï¼šP99 &gt; Max_Latency
<span class="k">-</span> å¸¦å®½è¿åï¼šAverage_BW &lt; Min_BW  
<span class="k">-</span> Deadlineè¿åï¼šMiss_Count &gt; 0

è¿åç­‰çº§ï¼š

<span class="k">-</span> Warning: 1ä¸ªçª—å£è¿å
<span class="k">-</span> Critical: 2ä¸ªçª—å£è¿å
<span class="k">-</span> Emergency: 3ä¸ªçª—å£è¿å
</code></pre></div>

<ol start="2">
<li><strong>åˆ†çº§å“åº”ç­–ç•¥</strong></li>
</ol>
<p><strong>Warningçº§åˆ«ï¼š</strong></p>
<ul>
<li>è®°å½•æ—¥å¿—å’Œç»Ÿè®¡</li>
<li>å¾®è°ƒä¼˜å…ˆçº§ï¼ˆ+1ï¼‰</li>
<li>å¢åŠ ä¿¡ç”¨è¡¥å……ç‡10%</li>
</ul>
<p><strong>Criticalçº§åˆ«ï¼š</strong></p>
<ul>
<li>è§¦å‘ä¸­æ–­é€šçŸ¥è½¯ä»¶</li>
<li>å¤§å¹…æå‡ä¼˜å…ˆçº§ï¼ˆæœ€é«˜ï¼‰</li>
<li>é¢„ç•™ç´§æ€¥å¸¦å®½</li>
<li>é™åˆ¶ä½ä¼˜å…ˆçº§è®¾å¤‡</li>
</ul>
<p><strong>Emergencyçº§åˆ«ï¼š</strong></p>
<ul>
<li>è¿›å…¥ç´§æ€¥æ¨¡å¼</li>
<li>æš‚åœæ‰€æœ‰ä½ä¼˜å…ˆçº§</li>
<li>åªæœåŠ¡è¿åQoSçš„è®¾å¤‡</li>
<li>å¯èƒ½éœ€è¦ç³»ç»Ÿçº§è°ƒæ•´</li>
</ul>
<ol start="3">
<li><strong>æ¢å¤æœºåˆ¶</strong></li>
</ol>
<div class="codehilite"><pre><span></span><code>æ¢å¤æ¡ä»¶ï¼šè¿ç»­2ä¸ªçª—å£æ»¡è¶³QoS

æ¢å¤æ­¥éª¤ï¼š

1. é€æ­¥é™ä½ä¼˜å…ˆçº§æå‡
2. é‡Šæ”¾é¢„ç•™èµ„æº
3. æ¢å¤æ­£å¸¸è°ƒåº¦
4. æ¸…é™¤è¿åè®¡æ•°

é˜²éœ‡è¡ï¼š

- è®¾ç½®å†·å´æœŸ(10ä¸ªçª—å£)
- å†·å´æœŸå†…ä¸é™ä½ä¿æŠ¤ç­‰çº§
</code></pre></div>

<ol start="4">
<li>
<p><strong>è½¯ä»¶ååŒ</strong>
- æä¾›QoSè¿åä¸­æ–­
- è½¯ä»¶å¯è°ƒæ•´QoSå‚æ•°
- æ”¯æŒåŠ¨æ€ç­–ç•¥åˆ‡æ¢
- æä¾›è¯¦ç»†è¯Šæ–­ä¿¡æ¯</p>
</li>
<li>
<p><strong>è‡ªé€‚åº”å­¦ä¹ </strong>
- è®°å½•è¿åæ¨¡å¼
- é¢„æµ‹æ€§è°ƒæ•´
- å»ºç«‹åœºæ™¯åº“
- è‡ªåŠ¨å‚æ•°ä¼˜åŒ–</p>
</li>
</ol>
</details>
<h2 id="gotchas">å¸¸è§é™·é˜±ä¸é”™è¯¯ (Gotchas)</h2>
<h3 id="1">1. ä¼˜å…ˆçº§åè½¬é—®é¢˜</h3>
<p><strong>é™·é˜±</strong>ï¼šé«˜ä¼˜å…ˆçº§è¯·æ±‚è¢«å·²ç»åœ¨å¤„ç†çš„ä½ä¼˜å…ˆçº§è¯·æ±‚é˜»å¡
<strong>è§£å†³</strong>ï¼šå®æ–½ä¼˜å…ˆçº§ç»§æ‰¿æˆ–ä¼˜å…ˆçº§å¤©èŠ±æ¿åè®®</p>
<h3 id="2">2. ä¿¡ç”¨ç³»ç»Ÿæ­»é”</h3>
<p><strong>é™·é˜±</strong>ï¼šä¿¡ç”¨è€—å°½åæ— æ³•æ¢å¤ï¼Œå¯¼è‡´é¥¿æ­»
<strong>è§£å†³</strong>ï¼šè®¾ç½®æœ€å°ä¿¡ç”¨ä¿è¯å’Œç´§æ€¥ä¿¡ç”¨æœºåˆ¶</p>
<h3 id="3">3. è¿‡åº¦ä¼˜åŒ–å»¶è¿ŸæŸå®³å¸¦å®½</h3>
<p><strong>é™·é˜±</strong>ï¼šé¢‘ç¹åˆ‡æ¢æ¥ä¼˜åŒ–å»¶è¿Ÿï¼Œå¯¼è‡´æ•´ä½“å¸¦å®½ä¸‹é™
<strong>è§£å†³</strong>ï¼šè®¾ç½®æœ€å°æ‰¹å¤„ç†å¤§å°ï¼Œå¹³è¡¡å»¶è¿Ÿå’Œååé‡</p>
<h3 id="4-qos">4. QoSå‚æ•°è®¾ç½®ä¸å½“</h3>
<p><strong>é™·é˜±</strong>ï¼šQoSå‚æ•°ä¹‹å’Œè¶…è¿‡ç³»ç»Ÿèƒ½åŠ›
<strong>è§£å†³</strong>ï¼šå®æ–½å‡†å…¥æ§åˆ¶ï¼ŒéªŒè¯QoSå‚æ•°å¯è¡Œæ€§</p>
<h3 id="5">5. å…¬å¹³æ€§åº¦é‡é€‰æ‹©</h3>
<p><strong>é™·é˜±</strong>ï¼šä½¿ç”¨å•ä¸€æŒ‡æ ‡æ— æ³•åæ˜ çœŸå®å…¬å¹³æ€§
<strong>è§£å†³</strong>ï¼šç»“åˆå¤šä¸ªæŒ‡æ ‡ï¼Œè€ƒè™‘ä¸åŒæ—¶é—´å°ºåº¦</p>
<h3 id="6">6. åŠ¨æ€è°ƒæ•´éœ‡è¡</h3>
<p><strong>é™·é˜±</strong>ï¼šå‚æ•°è°ƒæ•´è¿‡äºæ¿€è¿›å¯¼è‡´ç³»ç»Ÿéœ‡è¡
<strong>è§£å†³</strong>ï¼šå®æ–½é˜»å°¼æœºåˆ¶å’Œæ¸è¿›å¼è°ƒæ•´</p>
<h2 id="_5">æœ€ä½³å®è·µæ£€æŸ¥æ¸…å•</h2>
<h3 id="qos">QoSéœ€æ±‚åˆ†æ</h3>
<ul>
<li>[ ] å®Œæ•´æ”¶é›†æ‰€æœ‰ä¸»è®¾å¤‡çš„QoSéœ€æ±‚</li>
<li>[ ] å»ºç«‹é‡åŒ–çš„QoSæ¨¡å‹å’ŒSLA</li>
<li>[ ] éªŒè¯æ€»ä½“éœ€æ±‚ä¸è¶…è¿‡ç³»ç»Ÿèƒ½åŠ›</li>
<li>[ ] è€ƒè™‘æœ€åæƒ…å†µä¸‹çš„èµ„æºç«äº‰</li>
</ul>
<h3 id="_6">ä»²è£æœºåˆ¶è®¾è®¡</h3>
<ul>
<li>[ ] å®ç°å¤šçº§ä¼˜å…ˆçº§æ”¯æŒ</li>
<li>[ ] åŒ…å«åŠ¨æ€ä¼˜å…ˆçº§æå‡æœºåˆ¶</li>
<li>[ ] è®¾è®¡é¥¥é¥¿æ£€æµ‹å’Œé¢„é˜²æœºåˆ¶</li>
<li>[ ] æ”¯æŒç´§æ€¥è¯·æ±‚å¿«é€Ÿé€šé“</li>
</ul>
<h3 id="_7">å¸¦å®½ç®¡ç†</h3>
<ul>
<li>[ ] å®æ–½å¸¦å®½é¢„ç•™å’Œä¿è¯æœºåˆ¶</li>
<li>[ ] è®¾è®¡çµæ´»çš„ä¿¡ç”¨ç³»ç»Ÿ</li>
<li>[ ] æ”¯æŒçªå‘æµé‡å¤„ç†</li>
<li>[ ] åŒ…å«å¸¦å®½è¿åæ£€æµ‹</li>
</ul>
<h3 id="_8">å»¶è¿Ÿä¼˜åŒ–</h3>
<ul>
<li>[ ] è¯†åˆ«å’Œæ ‡è®°å…³é”®è·¯å¾„</li>
<li>[ ] å®æ–½å»¶è¿Ÿæ•æ„Ÿå‹è°ƒåº¦</li>
<li>[ ] ç›‘æµ‹å’Œç»Ÿè®¡å»¶è¿Ÿåˆ†å¸ƒ</li>
<li>[ ] æ”¯æŒå»¶è¿Ÿç›®æ ‡è®¾ç½®</li>
</ul>
<h3 id="_9">å…¬å¹³æ€§ä¿è¯</h3>
<ul>
<li>[ ] é€‰æ‹©åˆé€‚çš„å…¬å¹³æ€§åº¦é‡</li>
<li>[ ] å®æ–½åŠ æƒå…¬å¹³æœºåˆ¶</li>
<li>[ ] å®šæœŸè¯„ä¼°å…¬å¹³æ€§æŒ‡æ ‡</li>
<li>[ ] åŒ…å«å…¬å¹³æ€§è¿åå‘Šè­¦</li>
</ul>
<h3 id="_10">ç³»ç»Ÿé›†æˆ</h3>
<ul>
<li>[ ] æä¾›è½¯ä»¶å¯é…ç½®æ¥å£</li>
<li>[ ] æ”¯æŒè¿è¡Œæ—¶ç­–ç•¥åˆ‡æ¢</li>
<li>[ ] å®ç°æ€§èƒ½ç›‘æµ‹æ¥å£</li>
<li>[ ] åŒ…å«è°ƒè¯•å’Œè¯Šæ–­åŠŸèƒ½</li>
</ul>
<h3 id="_11">éªŒè¯æµ‹è¯•</h3>
<ul>
<li>[ ] è¦†ç›–å„ç§è´Ÿè½½ç»„åˆ</li>
<li>[ ] æµ‹è¯•æé™åœºæ™¯</li>
<li>[ ] éªŒè¯QoSä¿è¯</li>
<li>[ ] é•¿æ—¶é—´ç¨³å®šæ€§æµ‹è¯•</li>
</ul>
            </article>
            
            <nav class="page-nav"><a href="chapter5.html" class="nav-link prev">â† ç¬¬5ç« ï¼šæ—¶åºå‚æ•°ä¸æ§åˆ¶ç­–ç•¥</a><a href="chapter7.html" class="nav-link next">ç¬¬7ç« ï¼šåŠŸè€—ä¼˜åŒ–æŠ€æœ¯ â†’</a></nav>
        </main>
    </div>
</body>
</html>